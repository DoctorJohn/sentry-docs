<Expandable title="AI Rules for Tracing in Code Editors" copy={true}>

When created as a rules file this should be placed alongside other editor specific rule files. For example, if you are using Cursor, place this file in the `.cursorrules` directory.

````markdown {filename:rules.md}

# Tracing Examples

- Spans should be created for meaningful actions within an applications like button clicks, API calls, and function calls
- Ensure you are creating custom spans with meaningful names and operations
- Use the `Sentry.startSpan` function to create a span
- Child spans can exist within a parent span
- Where tracing is used, ensure Sentry is imported using `import * as Sentry from "@sentry/react"`

## Custom Span instrumentation in component actions

```javascript
import * as Sentry from "@sentry/react";

function TestComponent() {
  const handleTestButtonClick = () => {
    // Create a transaction/span to measure performance
    Sentry.startSpan(
      {
        op: "ui.click",
        name: "Test Button Click",
      },
      (span) => {
        const value = "some config";
        const metric = "some metric";

        // Metrics can be added to the span
        span.setAttribute("config", value);
        span.setAttribute("metric", metric);

        doSomething();
      }
    );
  };

  return (
    <button type="button" onClick={handleTestButtonClick}>
      Test Sentry
    </button>
  );
}
```

## Custom span instrumentation in API calls

```javascript
import * as Sentry from "@sentry/react";

async function fetchUserData(userId) {
  return Sentry.startSpan(
    {
      op: "http.client",
      name: `GET /api/users/${userId}`,
    },
    async () => {
      const response = await fetch(`/api/users/${userId}`);
      const data = await response.json();
      return data;
    }
  );
}
```

## Additional Span Examples

```javascript
import * as Sentry from "@sentry/react";

// Database operation span
async function saveUserProfile(userId, profileData) {
  return Sentry.startSpan(
    {
      op: "db.query",
      name: "Update User Profile",
    },
    async (span) => {
      span.setAttribute("user.id", userId);
      span.setAttribute("profile.fields", Object.keys(profileData).length);
      
      const result = await database.updateProfile(userId, profileData);
      return result;
    }
  );
}

// Form submission span
function handleFormSubmit(formData) {
  Sentry.startSpan(
    {
      op: "ui.action",
      name: "Submit Registration Form",
    },
    (span) => {
      span.setAttribute("form.type", "registration");
      span.setAttribute("form.fields", Object.keys(formData).length);
      
      validateAndSubmitForm(formData);
    }
  );
}
```
````
</Expandable>